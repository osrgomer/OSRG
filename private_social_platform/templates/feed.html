{% extends "base.html" %}

{% block title %}Feed - Private Social{% endblock %}

{% block content %}
<div class="header">
    <h1>Your Private Feed</h1>
</div>

<!-- Post Creation Form -->
<div class="post">
    <h3>Share something...</h3>
    <form method="POST" action="{{ url_for('create_post') }}">
        <div class="form-group">
            <textarea name="content" placeholder="What's on your mind?" rows="3" required></textarea>
        </div>
        <div class="form-group">
            <button type="submit">Post</button>
        </div>
    </form>
</div>

<!-- Posts Feed -->
<div id="posts">
    {% if posts %}
        {% for post in posts %}
        <div class="post">
            <p><strong>{{ post[2] }}</strong></p>
            <p>{{ post[0] }}</p>
            <small>{{ post[1].strftime('%Y-%m-%d %H:%M') if post[1].__class__.__name__ == 'datetime' else post[1] }}</small>
        </div>
        {% endfor %}
    {% else %}
        <div class="post">
            <p><strong>Welcome!</strong></p>
            <p>This is your private social media platform. Start by creating your first post above!</p>
            <small>Just now</small>
        </div>
    {% endif %}
</div>
{% endblock %}